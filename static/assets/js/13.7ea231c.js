(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"1S+P":function(t,e,a){"use strict";a.r(e);var r=a("aTiZ"),i=a("PFCU");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("KHd+"),s=Object(o.a)(i.default,r.a,r.b,!1,null,"61311e22",null);e.default=s.exports},"6OwM":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=a("WDBV"),n=(r=i)&&r.__esModule?r:{default:r};e.default={name:"PieChart",props:{height:{type:Number,default:320},chartData:{type:Object,default:function(){return{labels:[],value:[]}}},loading:{type:Boolean,default:!1}},data:function(){return{chartInstance:null}},watch:{loading:function(t){t||this.updateChart()}},mounted:function(){this.init()},methods:{init:function(){var t=this.$refs.pieChartWrap.querySelector(".pie-chart").getContext("2d"),e=this.chartData,a=e.labels,r=e.value;this.chartInstance=new n.default(t,{type:"doughnut",data:{labels:a,datasets:[{borderAlign:"center",backgroundColor:["#4b78c1","#6ca0e4","#a0b7da","#6bc265","#43bdb1","#f29292","#43bdb1","#edb073","#d8a6ef","#f0a9a9"],data:r}]},options:{maintainAspectRatio:!1,plugins:{legend:{position:"right"},tooltip:{callbacks:{label:function(t){var e=t.dataset.data.reduce((function(t,e){return t+e})),a=(t.dataPoint/e*100).toFixed(2);return t.label+": "+a+"%"}}}}}})},updateChart:function(){this.chartInstance.data.datasets[0].data=this.chartData.value,this.chartInstance.data.labels=this.chartData.labels,this.chartInstance.update()}}}},"B/Kc":function(t,e,a){"use strict";a.r(e);var r=a("twiO"),i=a("klV2");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("C7hT");var o=a("KHd+"),s=Object(o.a)(i.default,r.a,r.b,!1,null,"5ac9003a",null);e.default=s.exports},C7hT:function(t,e,a){"use strict";a("SFsg")},DrVv:function(t,e,a){"use strict";a.r(e);var r=a("NaFw"),i=a("I+Ga");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("KHd+"),s=Object(o.a)(i.default,r.a,r.b,!1,null,"b9601d84",null);e.default=s.exports},"I+Ga":function(t,e,a){"use strict";a.r(e);var r=a("6OwM"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e.default=i.a},NaFw:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i}));var r=function(){var t=this._self._c;return t("div",{ref:"pieChartWrap",staticClass:"pie-chart-wrap"},[t("canvas",{staticClass:"pie-chart",staticStyle:{width:"100%"},attrs:{height:this.height}})])},i=[];r._withStripped=!0},PFCU:function(t,e,a){"use strict";a.r(e);var r=a("UoRd"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e.default=i.a},SFsg:function(t,e,a){},UoRd:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=a("WDBV"),n=(r=i)&&r.__esModule?r:{default:r};e.default={name:"BarChart",props:{title:{type:String,default:""},desc:{type:String,default:""},xAxisName:{type:String,default:""},yAxisName:{type:String,default:""},height:{type:Number,default:320},chartData:{type:Object,default:function(){return{x:[],y:[]}}},loading:{type:Boolean,default:!1}},data:function(){return{chartInstance:null}},watch:{loading:function(t){t||this.updateChart()}},mounted:function(){this.init()},methods:{init:function(){var t=this.$refs.barChartWrap.querySelector(".bar-chart").getContext("2d"),e=this.chartData,a=e.x,r=e.y;this.chartInstance=new n.default(t,{type:"bar",data:{labels:a,datasets:[{data:r,backgroundColor:"#4b78c1",maxBarThickness:24}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{gridLines:{display:!1}},y:{gridLines:{borderDash:[5,3]}}},interaction:{mode:"nearest"}}})},updateChart:function(){this.chartInstance.data.datasets[0].data=this.chartData.y,this.chartInstance.data.labels=this.chartData.x,this.chartInstance.update()}}}},aTiZ:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i}));var r=function(){var t=this._self._c;return t("div",{ref:"barChartWrap",staticClass:"bar-chart-wrap"},[t("canvas",{staticClass:"bar-chart",attrs:{height:this.height}})])},i=[];r._withStripped=!0},klV2:function(t,e,a){"use strict";a.r(e);var r=a("t8Ze"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e.default=i.a},t8Ze:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(a("14Xm")),i=p(a("4d7F")),n=p(a("D3Ub")),o=p(a("Wgwc")),s=p(a("DzJC")),c=p(a("cVji")),d=p(a("M6jI")),u=p(a("lcZY")),l=p(a("VnjG")),h=p(a("1S+P")),g=p(a("DrVv")),f=p(a("EstQ"));function p(t){return t&&t.__esModule?t:{default:t}}var v="YYYY-MM-DD",m=[{key:"order",name:"No",colorMark:!0,width:80},{key:"service_name",name:f.default.t("m['服务名称']"),link:!0,handler:function(t){this.$router.push({name:this.$route.query.project_id?"projectOperationService":"OperationService",params:{id:t.service_id},query:{project_id:this.$route.query.project_id}})}},{key:"category",name:f.default.t("m['服务类型']")},{key:"count",name:f.default.t("m['单量（占比）']"),sort:!0,align:"right",format:function(t){return t.count+"("+t.ratio+")"}},{key:"creator_count",name:f.default.t("m['用户数']"),sort:!0,align:"right",width:100},{key:"biz_count",name:f.default.t("m['业务使用数']"),sort:!0,align:"right",width:110}],b=[{key:"order",name:"No",colorMark:!0,width:80},{key:"bk_biz_name",name:f.default.t("m['业务名']")},{key:"service_count",name:f.default.t("m['使用服务数量']"),sort:!0,align:"right"},{key:"count",name:f.default.t("m['单量']"),sort:!0,align:"right",width:120}],k=[{key:"order",name:"No",colorMark:!0,width:60},{key:"creator",name:f.default.t("m['用户ID']"),width:120},{key:"organization",name:f.default.t("m['所在组织']")},{key:"count",name:f.default.t("m['提单量']"),colorMark:!0,align:"right",width:120}],_={RUNNING:f.default.t("m['进行中']"),FINISHED:f.default.t("m['已完成']"),REVOKED:f.default.t("m['已撤销']"),TERMINATED:f.default.t("m['已终止']")};e.default={name:"OperationHome",components:{SummaryCard:c.default,ChartCard:d.default,TableChart:u.default,LineChart:l.default,BarChart:h.default,PieChart:g.default},data:function(){var t=(0,o.default)().format(v);return{dateRange:[(0,o.default)().subtract(1,"month").format(v),t],isDateSelectorFixed:!1,summaryData:{total:{count:0,service_count:0,biz_count:0,user_count:0},week:{ticket:{this_week_count:0,last_week_count:0,ratio:"--"},service:{this_week_count:0,last_week_count:0,ratio:"--"},biz:{this_week_count:0,last_week_count:0,ratio:"--"},user:{this_week_count:0,last_week_count:0,ratio:"--"}}},bizList:[],bizSearchIds:void 0,serviceUseData:[],serviceSearchStr:void 0,serviceOrder:void 0,bizUseData:[],bizOrder:void 0,ticketClassifyData:{},ticketStatusData:{},creatorData:{},top10CreateTicketUserData:[],top10TicketOrganizationData:{},addedTicketData:{},addedUserData:{},addedServiceData:{},serviceTableColumns:m,bizTableColumns:b,creatorTableColumns:k,creatorChartDismension:"days",addedTicketChartDismension:"days",addedUserChartDismension:"days",addedServiceChartDismension:"days",serviceTablePagination:{size:"small",current:1,count:0,limit:10,"show-limit":!1},bizTablePagination:{size:"small",current:1,count:0,limit:10,"show-limit":!1},shortcuts:[{text:this.$t("m['今天']"),value:function(){var t=(0,o.default)().format(v);return[(0,o.default)().format(v),t]}},{text:this.$t("m['昨天']"),value:function(){var t=(0,o.default)().format(v);return[(0,o.default)().subtract(1,"day").format(v),t]}},{text:this.$t("m['前天']"),value:function(){var t=(0,o.default)().format(v);return[(0,o.default)().subtract(2,"day").format(v),t]}},{text:this.$t("m['一周前']"),value:function(){var t=(0,o.default)().format(v);return[(0,o.default)().subtract(1,"week").format(v),t]}},{text:this.$t("m['一个月前']"),value:function(){var t=(0,o.default)().format(v);return[(0,o.default)().subtract(1,"month").format(v),t]}},{text:this.$t("m['三个月前']"),value:function(){var t=(0,o.default)().format(v);return[(0,o.default)().subtract(3,"month").format(v),t]}},{text:this.$t("m['半年前']"),value:function(){var t=(0,o.default)().format(v);return[(0,o.default)().subtract(6,"month").format(v),t]}},{text:this.$t("m['一年前']"),value:function(){var t=(0,o.default)().format(v);return[(0,o.default)().subtract(1,"year").format(v),t]}}],loading:{summary:!1,bizList:!1,serviceUse:!1,bizUse:!1,ticketClassify:!1,ticketStatus:!1,creator:!1,top10CreateTicketUser:!1,top10TicketOrganization:!1,addedTicket:!1,addedUser:!1,addedService:!1},project_key:this.$route.query.project_id||void 0,searchAndErrorToggles:{service:{search:!1,error:!1},biz:{search:!1,error:!1},top10:{search:!1,error:!1}}}},created:function(){this.getSummaryData(),this.getDetailData(),this.getBizList(),this.handleDateSelectorPosition=(0,s.default)(this.scrollHandler,300)},mounted:function(){this.$parent.$el.addEventListener("scroll",this.handleDateSelectorPosition,!1)},beforeDestroy:function(){this.$parent.$el.removeEventListener("scroll",this.handleDateSelectorPosition,!1)},methods:{getDetailData:function(){this.getServiceUseData(),this.getBizUseData(),this.getTicketClassifyData(),this.getTicketStatusData(),this.getCreatorData(),this.getTop10CreateTicketUserData(),this.getTop10TicketOrganizationData(),this.getAddedTicketData(),this.getAddedUserData(),this.getAddedServiceData()},getSummaryData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.summary=!0,e.prev=1,a={project_key:t.project_key},e.next=5,i.default.all([t.$store.dispatch("operation/getSummaryTotalData",a),t.$store.dispatch("operation/getSummaryWeekData",a)]);case 5:n=e.sent,t.summaryData={total:n[0].data,week:n[1].data},e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.prev=12,t.loading.summary=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,t,[[1,9,12,15]])})))()},getBizList:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.bizList=!0,e.prev=1,a={project_key:t.project_key},e.next=5,t.$store.dispatch("eventType/getAppList",a);case 5:i=e.sent,t.bizList=i.data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.prev=12,t.loading.bizList=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,t,[[1,9,12,15]])})))()},getServiceUseData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.serviceUse=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1],page:t.serviceTablePagination.current,service_name:t.serviceSearchStr},t.serviceOrder&&(a.order_by=t.serviceOrder),e.next=6,t.$store.dispatch("operation/getServiceUseData",a);case 6:i=e.sent,t.serviceTablePagination.count=i.data.count,t.serviceUseData=i.data.items,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.serviceUse=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getBizUseData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.bizUse=!0,t.searchAndErrorToggles.biz.error=!1,e.prev=2,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1],page:t.bizTablePagination.current,biz_id:t.bizSearchIds},t.bizOrder&&(a.order_by=t.bizOrder),e.next=7,t.$store.dispatch("operation/getBizUseData",a);case 7:i=e.sent,t.bizTablePagination.count=i.data.count,t.bizUseData=i.data.items,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),t.searchAndErrorToggles.biz.error=!1,console.error(e.t0);case 16:return e.prev=16,t.loading.bizUse=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,t,[[2,12,16,19]])})))()},getTicketClassifyData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.ticketClassify=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1]},e.next=5,t.$store.dispatch("operation/getTicketClassifyData",a);case 5:i=e.sent,n={x:[],y:[]},i.data.forEach((function(t){var e=t.count,a=t.service_type;n.x.push(a),n.y.push(e)})),t.ticketClassifyData=n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.ticketClassify=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getTicketStatusData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.ticketStatus=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1]},e.next=5,t.$store.dispatch("operation/getTicketStatusData",a);case 5:i=e.sent,n={labels:[],value:[]},i.data.forEach((function(t){var e=t.status,a=t.count;n.labels.push(_[e]),n.value.push(a)})),t.ticketStatusData=n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.ticketStatus=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getCreatorData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.creator=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1],timedelta:t.creatorChartDismension,resource_type:"creator"},e.next=5,t.$store.dispatch("operation/getResourceCountData",a);case 5:i=e.sent,n={x:[],y:[]},i.data.forEach((function(t){var e=t.count,a=t.date;n.x.push(a),n.y.push(e)})),t.creatorData=n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.creator=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getTop10CreateTicketUserData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.top10CreateTicketUser=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1]},t.searchAndErrorToggles.top10.error=!1,e.next=6,t.$store.dispatch("operation/getTop10CreateTicketUserData",a);case 6:i=e.sent,n=i.data.map((function(e){if(e.organization.length>0){var a=t.getFullOrganization(e.organization);e.organization_full=a.reverse().join("/"),e.organization=e.organization[0].name}else e.organization="--";return e})),t.top10CreateTicketUserData=n,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t.searchAndErrorToggles.top10.error=!0,console.error(e.t0);case 15:return e.prev=15,t.loading.top10CreateTicketUser=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,t,[[1,11,15,18]])})))()},getTop10TicketOrganizationData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.top10TicketOrganization=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1]},e.next=5,t.$store.dispatch("operation/getTop10TicketOrganizationData",a);case 5:i=e.sent,n={labels:[],value:[]},i.data.forEach((function(t){var e=t.organization,a=t.count;n.labels.push(e),n.value.push(a)})),t.top10TicketOrganizationData=n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.top10TicketOrganization=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getAddedTicketData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.addedTicket=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1],timedelta:t.addedTicketChartDismension,resource_type:"ticket"},e.next=5,t.$store.dispatch("operation/getResourceCountData",a);case 5:i=e.sent,n={x:[],y:[]},i.data.forEach((function(t){var e=t.count,a=t.date;n.x.push(a),n.y.push(e)})),t.addedTicketData=n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.addedTicket=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getAddedUserData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.addedUser=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1],timedelta:t.addedUserChartDismension,resource_type:"user"},e.next=5,t.$store.dispatch("operation/getResourceCountData",a);case 5:i=e.sent,n={x:[],y:[]},i.data.forEach((function(t){var e=t.count,a=t.date;n.x.push(a),n.y.push(e)})),t.addedUserData=n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.addedUser=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getAddedServiceData:function(){var t=this;return(0,n.default)(r.default.mark((function e(){var a,i,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.addedService=!0,e.prev=1,a={project_key:t.project_key,create_at__gte:t.dateRange[0],create_at__lte:t.dateRange[1],timedelta:t.addedServiceChartDismension,resource_type:"service"},e.next=5,t.$store.dispatch("operation/getResourceCountData",a);case 5:i=e.sent,n={x:[],y:[]},i.data.forEach((function(t){var e=t.count,a=t.date;n.x.push(a),n.y.push(e)})),t.addedServiceData=n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,t.loading.addedService=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,t,[[1,11,14,17]])})))()},getFullOrganization:function(t){var e=t[0],a=[e.name];if(e.family&&e.family.length>0){var r=this.getFullOrganization(e.family);a=a.concat(r)}return a},onSelectDate:function(t){this.dateRange=t,this.serviceTablePagination.current=1,this.bizTablePagination.current=1,this.getDetailData()},scrollHandler:function(t){this.isDateSelectorFixed=t.target.scrollTop>150},handleServiceSearch:function(t){this.serviceSearchStr=t||void 0,this.searchAndErrorToggles.service.search=!0,this.serviceTablePagination.current=1,this.getServiceUseData()},handleBizClear:function(){this.searchAndErrorToggles.biz.search=!1,this.getBizUseData()},handleServiceClear:function(){this.serviceSearchStr="",this.searchAndErrorToggles.service.search=!1,this.getServiceUseData()},handleBizSearch:function(t){if(this.bizTablePagination.current=1,""!==t){this.searchAndErrorToggles.biz.search=!0;var e=this.bizList.filter((function(e){return e.name.toLowerCase().includes(t)}));e.length>0?(this.bizSearchIds=e.map((function(t){return t.key})).join(","),this.getBizUseData()):(this.bizTablePagination.count=0,this.bizUseData=[],this.bizSearchIds=void 0)}else this.bizSearchIds=void 0,this.getBizUseData(),this.searchAndErrorToggles.biz.search=!1},onServiceTablePageChange:function(t){this.serviceTablePagination.current=t,this.getServiceUseData()},onServiceTableOrderChange:function(t){this.serviceTablePagination.current=1,this.serviceOrder=t,this.getServiceUseData()},onBizTablePageChange:function(t){this.bizTablePagination.current=t,this.getBizUseData()},onBizTableOrderChange:function(t){this.bizTablePagination.current=1,this.bizOrder=t,this.getBizUseData()},onCreatorDimensionChange:function(t){this.creatorChartDismension=t,this.getCreatorData()},onAddedTicketDimensionChange:function(t){this.addedTicketChartDismension=t,this.getAddedTicketData()},onAddedUserDimensionChange:function(t){this.addedUserChartDismension=t,this.getAddedUserData()},onAddedServiceDimensionChange:function(t){this.addedServiceChartDismension=t,this.getAddedServiceData()}}}},twiO:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i}));var r=function(){var t=this,e=t._self._c;return e("div",{ref:"operationHome",staticClass:"operation-home"},[e("div",{staticClass:"date-selector",class:{"selector-fixed":t.isDateSelectorFixed}},[e("bk-date-picker",{attrs:{type:"daterange",clearable:!1,shortcuts:t.shortcuts,value:t.dateRange},on:{change:t.onSelectDate}})],1),t._v(" "),e("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.loading.summary,opacity:1},expression:"{ isLoading: loading.summary, opacity: 1 }"}],staticClass:"summary-data statistics-section"},[e("summary-card",{attrs:{title:t.$t("m.operation['单据总数']"),"card-data":{total:t.summaryData.total.count,week:t.summaryData.week.ticket}}},[e("i",{staticClass:"bk-icon icon-order-shape",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),e("summary-card",{attrs:{title:t.$t("m.operation['服务总数']"),"card-data":{total:t.summaryData.total.service_count,week:t.summaryData.week.service}}},[e("i",{staticClass:"bk-icon icon-heart-shape",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),e("summary-card",{attrs:{title:t.$t("m.operation['业务总数']"),"card-data":{total:t.summaryData.total.biz_count,week:t.summaryData.week.biz}}},[e("i",{staticClass:"bk-icon icon-folder-open-shape",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),e("summary-card",{attrs:{title:t.$t("m.operation['用户总数']"),"card-data":{total:t.summaryData.total.user_count,week:t.summaryData.week.user}}},[e("i",{staticClass:"bk-icon icon-user-shape",attrs:{slot:"icon"},slot:"icon"})])],1),t._v(" "),e("div",{staticClass:"global-statistics statistics-section"},[e("h4",[t._v(t._s(t.$t("m.operation['全局统计']")))]),t._v(" "),e("div",{staticClass:"charts-wrap"},[e("chart-card",{staticStyle:{height:"568px"},attrs:{title:t.$t("m.operation['服务使用统计']"),"show-search":!t.loading.bizList,placeholder:t.$t("m.operation['请输入服务名称']"),loading:t.loading.serviceUse},on:{search:t.handleServiceSearch,clear:t.handleServiceClear}},[e("table-chart",{attrs:{"show-pagination":!0,pagination:t.serviceTablePagination,columns:t.serviceTableColumns,"chart-data":t.serviceUseData,"list-error":t.searchAndErrorToggles.service.error,"search-toggle":t.searchAndErrorToggles.service.search},on:{clearSearch:t.handleServiceClear,onPageChange:t.onServiceTablePageChange,onOrderChange:t.onServiceTableOrderChange}})],1),t._v(" "),e("chart-card",{staticStyle:{height:"568px"},attrs:{title:t.$t("m.operation['业务使用统计']"),desc:t.$t("m.operation['按照业务维度，统计业务的单量以及服务使用量。']"),placeholder:t.$t("m.operation['请输入业务名称']"),"show-search":!0,loading:t.loading.bizUse},on:{search:t.handleBizSearch,clear:t.handleBizClear}},[e("table-chart",{attrs:{"show-pagination":!0,pagination:t.bizTablePagination,columns:t.bizTableColumns,"chart-data":t.bizUseData,"list-error":t.searchAndErrorToggles.biz.error,"search-toggle":t.searchAndErrorToggles.biz.search},on:{onPageChange:t.onBizTablePageChange,onOrderChange:t.onBizTableOrderChange}})],1),t._v(" "),e("chart-card",{attrs:{title:t.$t("m.operation['单据数量-按类型统计']"),loading:t.loading.ticketClassify}},[e("bar-chart",{attrs:{loading:t.loading.ticketClassify,"y-axis-name":t.$t("m.operation['单量（条）']"),"chart-data":t.ticketClassifyData}})],1),t._v(" "),e("chart-card",{attrs:{title:t.$t("m.operation['单据状态占比']"),loading:t.loading.ticketStatus}},[e("pie-chart",{attrs:{loading:t.loading.ticketStatus,"chart-data":t.ticketStatusData}})],1)],1)]),t._v(" "),e("div",{staticClass:"ticket-statistics statistics-section"},[e("h4",[t._v(t._s(t.$t("m.operation['提单统计']")))]),t._v(" "),e("div",{staticClass:"charts-wrap"},[e("chart-card",{staticStyle:{height:"410px"},attrs:{title:t.$t("m.operation['提单人数']"),loading:t.loading.creator}},[e("line-chart",{attrs:{loading:t.loading.creator,min:0,"gradient-color":["rgba(58, 132, 255, 0)","rgba(58, 132, 255, 0.3)"],"y-axis-name":t.$t("m.operation['人数（人）']"),"chart-data":t.creatorData,dimension:t.creatorChartDismension},on:{onDimensionChange:t.onCreatorDimensionChange}})],1),t._v(" "),e("chart-card",{staticStyle:{height:"410px"},attrs:{title:t.$t("m.operation['Top 10 提单用户']"),loading:t.loading.top10CreateTicketUser},on:{search:function(e){return t.getTop10CreateTicketUserData()}}},[e("table-chart",{attrs:{loading:t.loading.top10CreateTicketUser,columns:t.creatorTableColumns,"list-error":t.searchAndErrorToggles.top10.error,"search-toggle":t.searchAndErrorToggles.top10.search,"chart-data":t.top10CreateTicketUserData}})],1),t._v(" "),e("chart-card",{staticStyle:{height:"410px"},attrs:{title:t.$t("m.operation['Top 10 单据分布占比']"),desc:t.$t("m.operation['按组织架构统计']"),loading:t.loading.top10TicketOrganization}},[e("pie-chart",{attrs:{loading:t.loading.top10TicketOrganization,"chart-data":t.top10TicketOrganizationData}})],1)],1)]),t._v(" "),e("div",{staticClass:"added-statistics statistics-section"},[e("h4",[t._v(t._s(t.$t("m.operation['新增统计']")))]),t._v(" "),e("div",{staticClass:"charts-wrap"},[e("chart-card",{attrs:{title:t.$t("m.operation['新增单量']"),desc:t.$t("m.operation['选定周期内，新增的单量']"),loading:t.loading.addedTicket}},[e("line-chart",{attrs:{loading:t.loading.addedTicket,"gradient-color":["rgba(37, 91, 175, 0)","rgba(37, 91, 175, 0.3)"],"y-axis-name":t.$t("m.operation['单量（条）']"),"chart-data":t.addedTicketData,dimension:t.addedTicketChartDismension},on:{onDimensionChange:t.onAddedTicketDimensionChange}})],1),t._v(" "),e("chart-card",{attrs:{title:t.$t("m.operation['新增用户数']"),desc:t.$t("m.operation['选定周期内，新增的用户']"),loading:t.loading.addedUser}},[e("line-chart",{attrs:{loading:t.loading.addedUser,min:0,"gradient-color":["rgba(19, 143, 203, 0)","rgba(23, 142, 207, 0.3)"],"y-axis-name":t.$t("m.operation['人数（人）']"),"chart-data":t.addedUserData,dimension:t.addedUserChartDismension},on:{onDimensionChange:t.onAddedUserDimensionChange}})],1),t._v(" "),e("chart-card",{attrs:{title:t.$t("m.operation['新增服务']"),desc:t.$t("m.operation['选定周期内，新增的服务']"),loading:t.loading.addedService}},[e("line-chart",{attrs:{loading:t.loading.addedService,min:0,"gradient-color":["rgba(123, 227, 221, 0)","rgba(69, 195, 184, 0.3)"],"y-axis-name":t.$t("m.operation['服务（个）']"),"chart-data":t.addedServiceData,dimension:t.addedServiceChartDismension},on:{onDimensionChange:t.onAddedServiceDimensionChange}})],1)],1)])])},i=[];r._withStripped=!0}}]);