(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"/BG8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("Jwqd"),a=n("WSG0"),s=(i=a)&&i.__esModule?i:{default:i};var o={styles:{type:Object,default:function(){return{}}},value:{type:[String,Array],default:""}};t.default={name:"TagText",mixins:[(0,r.getFormMixins)(o)],data:function(){return{}},computed:{hasChildren:function(){return this.form.children&&Array.isArray(this.form.children)&&!!this.form.children.length}},methods:{onClick:function(){if(this.hasChildren){var e="";e=Array.isArray(this.value)?this.value.map((function(e){return(e.label||"")+e.value})).join(","):(this.label||"")+this.value;var t=this.getContext();if(t.config&&"combine"===t.config.mode)this.getTopViewItem().appendCrumbsItem(e,this.form.children);else(0,s.default)({title:e,formData:this.form.children,context:t})}}}}},"0KlD":function(e,t,n){"use strict";n.r(t);var i=n("HC/A"),r=n("1WJ+");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("dxSh");var s=n("KHd+"),o=Object(s.a)(r.default,i.a,i.b,!1,null,"51f2a078",null);t.default=o.exports},"1WJ+":function(e,t,n){"use strict";n.r(t);var i=n("DCOq"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=r.a},"6jts":function(e,t,n){"use strict";n("OzIr")},"9MBU":function(e,t,n){"use strict";n.r(t);var i=n("k85c"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=r.a},"9g4e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e._self._c;return t("bk-sideslider",{attrs:{"is-show":e.isShow,"quick-close":!0,title:e.title,width:e.width,"ext-cls":"ui-sideslider"},on:{"update:isShow":function(t){e.isShow=t},"update:is-show":function(t){e.isShow=t}}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("render-view",{attrs:{"form-data":e.formData,context:e.context}})],1)])},r=[];i._withStripped=!0},C65D:function(e,t,n){"use strict";n.r(t);var i=n("9g4e"),r=n("Vv2+");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("xgIe");var s=n("KHd+"),o=Object(s.a)(r.default,i.a,i.b,!1,null,null,null);t.default=o.exports},C6tm:function(e,t,n){"use strict";n.r(t);var i=n("P+p4"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=r.a},Cyyo:function(e,t,n){"use strict";n.r(t);var i=n("/BG8"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=r.a},DCOq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("gDS+")),r=o(n("hk/f")),a=o(n("FCVG")),s=n("dGg1");function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"RenderViewTest",components:{RenderView:a.default,CodeEditor:r.default},data:function(){return{errMessage:null,jsonConfigStr:(0,i.default)(s.CUSTOM_FORM_TEMPLATE,null,4),formData:[],context:{},editorConfig:{language:"json"}}},watch:{jsonConfigStr:{handler:function(){this.initRenderView()},immediate:!0}},methods:{initRenderView:function(){this.errMessage="";try{var e=JSON.parse(this.jsonConfigStr),t=e.form_data,n=e.schemes,i=e.config;this.formData=t,this.context={schemes:n,config:i}}catch(e){this.errMessage=e,this.formData=[]}}}}},FCVG:function(e,t,n){"use strict";n.r(t);var i=n("f5y/"),r=n("9MBU");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var s=n("KHd+"),o=Object(s.a)(r.default,i.a,i.b,!1,null,"4ffb4b8c",null);t.default=o.exports},"HC/A":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"test-page"},[t("div",{staticClass:"display-view"},[e.errMessage?t("div",{staticClass:"error-tips"},[e._v("\n      "+e._s(e.errMessage)+"\n    ")]):t("render-view",{attrs:{"form-data":e.formData,context:e.context}})],1),e._v(" "),t("div",{staticClass:"editor"},[t("code-editor",{attrs:{options:e.editorConfig},model:{value:e.jsonConfigStr,callback:function(t){e.jsonConfigStr=t},expression:"jsonConfigStr"}})],1)])},r=[];i._withStripped=!0},Jwqd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMON_ATTRS=void 0;var i,r=n("QbLZ"),a=(i=r)&&i.__esModule?i:{default:i};t.getFormMixins=function(e){var t={};for(var n in e)"value"!==n&&(t[n]=e[n]);return{props:(0,a.default)({},s,t),inject:["getContext"],data:function(){return{value:this.$attrs.value?this.$attrs.value:e.value.default}},methods:{getTopViewItem:function(){for(var e=this,t=!1;!t;)e.$parent&&e.$parent.isRootRenderView?t=!0:e=e.$parent;return e}}}};var s=t.COMMON_ATTRS={label:{type:String,required:!1},hiddenLabel:{type:Boolean,default:!1},form:{type:Object,default:function(){return{}}},children:{type:[String,Array],required:!1},desc:{type:String,required:!1}}},NPk7:function(e,t,n){"use strict";n.r(t);var i=n("q4Iw"),r=n("Cyyo");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("qkdU");var s=n("KHd+"),o=Object(s.a)(r.default,i.a,i.b,!1,null,"21fd4902",null);t.default=o.exports},OkDz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Jwqd"),r={column:{type:Array,default:function(){return[{name:"操作",type:"text",key:"column1"},{name:"关联相关内容",key:"column2",scheme:"table_text_scheme",attrs:{}},{name:"申请期限",type:"text",key:"column3",attrs:{sort:!0}}]}},value:{type:Array,default:function(){return[]}}};t.default={name:"TagTable",components:{ViewItem:function(){return Promise.resolve().then(n.bind(null,"UsFA"))}},mixins:[(0,i.getFormMixins)(r)],methods:{getScheme:function(e,t){var n=this.getContext().schemes;return t&&t.scheme&&n[t.scheme]?n[t.scheme]:e.scheme?n[e.scheme]:t&&t.type?{type:t.type}:{type:e.type}}}}},OzIr:function(e,t,n){},"P+p4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("P2sY"),a=(i=r)&&i.__esModule?i:{default:i},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("wsa1"));var o={language:"javascript",theme:"vs-dark",automaticLayout:!0,minimap:{enabled:!1},wordWrap:"on",wrappingIndent:"same"};t.default={name:"CodeEditor",props:{value:{type:String,default:""},options:{type:Object,default:function(){return{}}}},data:function(){return{editorOptions:(0,a.default)({},o,this.options,{value:this.value}),monacoInstance:null}},watch:{value:function(e){e!==this.monacoInstance.getValue()&&this.monacoInstance.setValue(e)},options:{deep:!0,handler:function(e){this.editorOptions=(0,a.default)({},o,e,{value:this.value}),this.updateOptions()}}},mounted:function(){this.initIntance()},beforeDestroy:function(){this.monacoInstance&&this.monacoInstance.dispose()},methods:{initIntance:function(){var e=this;this.monacoInstance=s.editor.create(this.$el,this.editorOptions);var t=this.monacoInstance.getModel();if(t.setEOL(0),this.value.indexOf("\r\n")>-1){var n=document.createElement("textarea");n.value=this.value,this.$emit("input",n.value)}t.onDidChangeContent((function(){var t=e.monacoInstance.getValue();e.$emit("input",t)})),this.monacoInstance.addCommand(s.KeyMod.CtrlCmd|s.KeyCode.KEY_S,(function(){var t=e.monacoInstance.getValue();e.$emit("saveContent",t)}))},updateOptions:function(){this.monacoInstance.updateOptions(this.editorOptions)}}}},QdZt:function(e,t,n){},UsFA:function(e,t,n){"use strict";n.r(t);var i=n("XClk"),r=n("nVin");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("mOxC");var s=n("KHd+"),o=Object(s.a)(r.default,i.a,i.b,!1,null,"27b534c8",null);t.default=o.exports},"Vv2+":function(e,t,n){"use strict";n.r(t);var i=n("fOTe"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=r.a},WSG0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("oCYn")),r=a(n("C65D"));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.extend(r.default);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"title",formData:[],context:{schemes:{}}},t=new s({el:document.createElement("div"),propsData:{isShow:!1,title:e.title,formData:e.formData,context:e.context},data:{isShow:!1}});t.viewmodel=t.$mount();var n=document.body;return n.appendChild(t.viewmodel.$el),t.isShow=!0,t.$on("update:isShow",(function(e){e||(t.isShow=!1)})),t.viewmodel}},XClk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"view-item"},[e.crumbsList.length>1?t("div",{staticClass:"bread-crumbs"},e._l(e.crumbsList,(function(n,i){return t("span",{key:i,staticClass:"crumbs-item",on:{click:function(t){return t.stopPropagation(),e.onCrumbsClick(i)}}},[e._v("\n      "+e._s(n.label)+"\n    ")])})),0):e._e(),e._v(" "),e.crumbsList.length<=1?t(e.componentType,e._b({tag:"component",attrs:{form:e.form}},"component",e.getAttrs(e.form),!1)):t("render-view",{ref:"childrenView",attrs:{"hidden-label":!0,"form-data":e.childrenViewConfig.form_data,context:e.getContext()}})],1)},r=[];i._withStripped=!0},aRCN:function(e,t,n){},dD0k:function(e,t,n){"use strict";n("hF++")},dGg1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CUSTOM_FORM_TEMPLATE={config:{mode:"sideslider"},schemes:{base_text_scheme:{type:"text",attrs:{styles:{label:["border"],value:["highlight","border"]},desc:"通用描述文字"}},table_text_scheme:{type:"text",attrs:{styles:{label:["border"],value:["highlight","border"]}}},base_table_scheme:{type:"table",attrs:{column:[{name:"操作",type:"text",key:"column1"},{name:"关联相关内容",key:"column2",scheme:"table_text_scheme",attrs:{}},{name:"申请期限",type:"text",key:"column3",attrs:{sort:!0}}]}},sub_table_scheme:{type:"table",attrs:{column:[{name:"关联内容-类型",key:"column1",scheme:"base_text_scheme"},{name:"类型值",key:"column2",scheme:"table_text_scheme"}]}},sub2_table_scheme:{type:"table",attrs:{column:[{name:"主机",key:"column1",scheme:"base_text_scheme"}]}}},form_data:[{label:"业务：",scheme:"base_text_scheme",value:"蓝鲸",desc:"覆盖 scheme 中通用描述文字",children:[{label:"子业务1：",scheme:"base_text_scheme",value:"test1"},{label:"子业务2：",scheme:"base_text_scheme",value:"test2"}]},{label:"提单人：",scheme:"base_text_scheme",value:""},{label:"提单时间：",scheme:"base_text_scheme",value:""}]}},dxSh:function(e,t,n){"use strict";n("QdZt")},"f5y/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"render-view",staticStyle:{"margin-left":"10px"}},e._l(e.formData,(function(n,i){return t("div",{key:i+new Date,staticClass:"view-item-wrap"},[t("ViewItem",{attrs:{"top-index":i,"is-top":!0,scheme:e.getScheme(n),form:n}})],1)})),0)},r=[];i._withStripped=!0},fOTe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Sideslider",components:{RenderView:function(){return Promise.resolve().then(n.bind(null,"FCVG"))}},props:{title:{type:String,default:""},formData:{type:Array,default:function(){return[]}},context:{type:Object,default:function(){return{schemes:{}}}},width:{type:[String,Number],default:800}},data:function(){return{isShow:!0}}}},gMgb:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tag-table"},[e.hiddenLabel?e._e():t("label",{staticClass:"table-label"},[e._v(e._s(e.label))]),e._v(" "),t("bk-table",{ref:"tagTable",attrs:{data:e.form.value,border:!0}},e._l(e.column,(function(n){return t("bk-table-column",{key:n.key,attrs:{label:n.name,prop:n.key},scopedSlots:e._u([{key:"default",fn:function(i){return[t("ViewItem",{attrs:{scheme:e.getScheme(n,i.row[n.key]),form:i.row[n.key]}})]}}],null,!0)})})),1)],1)},r=[];i._withStripped=!0},"hF++":function(e,t,n){},hftF:function(e,t,n){"use strict";n.r(t);var i=n("gMgb"),r=n("sRDs");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("6jts"),n("dD0k");var s=n("KHd+"),o=Object(s.a)(r.default,i.a,i.b,!1,null,"75b3441b",null);t.default=o.exports},"hk/f":function(e,t,n){"use strict";n.r(t);var i=n("x6yq"),r=n("C6tm");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("lI7c");var s=n("KHd+"),o=Object(s.a)(r.default,i.a,i.b,!1,null,"0bbd7fbd",null);t.default=o.exports},k85c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("UsFA"),a=(i=r)&&i.__esModule?i:{default:i};t.default={name:"RenderView",components:{ViewItem:a.default},props:{formData:{type:Array,default:function(){return[]}},context:{type:Object,default:function(){return{}}}},provide:function(){var e=this;return{getContext:function(){return e.context}}},data:function(){return{isRootRenderView:null,value:{}}},created:function(){this.initRenderView()},methods:{getScheme:function(e){return this.context.schemes[e.scheme]?this.context.schemes[e.scheme]:{}},initRenderView:function(){for(var e=this,t=!1;!t&&e.$parent;)"render-view"===e.$parent.$options._componentTag?t=!0:e=e.$parent;this.isRootRenderView=!t}}}},lI7c:function(e,t,n){"use strict";n("vT7S")},m4Da:function(e,t,n){},mOxC:function(e,t,n){"use strict";n("aRCN")},nVin:function(e,t,n){"use strict";n.r(t);var i=n("nmi9"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=r.a},nmi9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("QbLZ")),r=o(n("NPk7")),a=o(n("hftF")),s=n("ygAv");function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ViewItem",components:{TagText:r.default,TagTable:a.default,RenderView:function(){return Promise.resolve().then(n.bind(null,"FCVG"))}},inject:["getContext"],props:{scheme:{type:Object,default:function(){return{}}},form:{type:Object,default:function(){return{}}},isTop:{type:Boolean,default:!1},topIndex:{type:Number}},data:function(){return{crumbsList:[],childrenViewConfig:{form_data:[]}}},computed:{componentType:function(){return"Tag"+this.scheme.type.replace(/^[a-z]/,(function(e){return e.toUpperCase()}))},currentDisplatCrumbs:function(){return this.crumbsList[this.crumbsList.length-1]||{label:"默认",form_data:[]}}},created:function(){this.appendCrumbsItem(this.form.label,this.form)},methods:{getAttrs:function(e){return(0,i.default)({},this.scheme.attrs,e)},appendCrumbsItem:function(e,t){this.crumbsList.push({label:e,form_data:(0,s.deepClone)(t)}),this.updateChildViewConfig()},getScheme:function(e){var t=this.getContext().schemes;return t[e.scheme]?t[e.scheme]:{}},onCrumbsClick:function(e){this.crumbsList=this.crumbsList.filter((function(t,n){return n<=e})),this.updateChildViewConfig()},updateChildViewConfig:function(){this.childrenViewConfig={form_data:(0,s.deepClone)(this.currentDisplatCrumbs.form_data)}}}}},q4Iw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e._self._c;return t("div",{class:["tag-text",{"active-link":e.hasChildren}],on:{click:e.onClick}},[Array.isArray(e.value)?t("div",e._l(e.value,(function(n,i){return t("p",{key:i,staticClass:"text-block"},[n.label?t("label",{staticClass:"label"},[e._v("\n        "+e._s(n.label)+"\n        "),n.desc||e.desc?t("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:n.desc||e.desc,expression:"item.desc || desc"}],staticClass:"bk-itsm-icon icon-itsm-icon-help"}):e._e()]):e._e(),e._v(" "),t("span",{staticClass:"value"},[e._v(e._s(n.value))])])})),0):t("p",[e.label?t("label",{staticClass:"label"},[e._v("\n      "+e._s(e.label)+"\n      "),e.desc?t("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.desc,expression:"desc"}],staticClass:"bk-itsm-icon icon-itsm-icon-help"}):e._e()]):e._e(),e._v(" "),t("span",{staticClass:"value"},[e._v(e._s(e.value))])])])},r=[];i._withStripped=!0},qkdU:function(e,t,n){"use strict";n("xBbh")},sRDs:function(e,t,n){"use strict";n.r(t);var i=n("OkDz"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=r.a},vT7S:function(e,t,n){},x6yq:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){return(0,this._self._c)("section",{staticClass:"code-editor"})},r=[];i._withStripped=!0},xBbh:function(e,t,n){},xgIe:function(e,t,n){"use strict";n("m4Da")}}]);